<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">

    <meta name="author" content="Alar Akilbekov">
    <meta name="description" content="tensor-library, ocr">
    <meta name="keywords" content="High-Performance Computing">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">

    <link rel="icon" type="image/png" href="favicon.png">
    <title>Scalar</title>

    <style>
        html, body {
            height: 100%;
            width: 100%;
/*             overflow: hidden; */
/*             margin: 0; */
        }

        header {
            /* padding: 20px; */
            /* transform: translateY(-20vh); */
            margin-top: 12vh;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #0d0d0d;
            color: #fff;

            display: flex;
            flex-direction: column;
            justify-content: flex-start; /*center;*/

            align-items: center;
            min-height: 100vh;
            text-align: center;
        }

        h1 {
            font-size: 3rem;
            margin: 0;
            background: linear-gradient(120deg, #ff0033, #00cc66, #ff0033);
            background-size: 300% 300%;
            animation: titleSpin 8s ease-in-out infinite;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;

            /* text selecting */
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

        @keyframes titleSpin {
            0%   { background-position: 0% 0%; }
            50%  { background-position: 180% 180%; }
            100% { background-position: 0% 0%; }
        }


        .subtitle { font-size: 1.3rem; opacity: .85; margin-top: 6px; }

        .bottom {
            margin-top: 40px;
            text-align: center;
        }

        .author { font-size: 1.1rem; opacity: .7; margin-bottom: 15px; }

        .links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .link-btn {
            position: relative;
            display: inline-block;
            padding: 2px; /* толщина ободка */
            border-radius: 8px;
            text-decoration: none;
            overflow: hidden;
        }

        .link-btn::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: linear-gradient(120deg, #ff0033, #00cc66, #ff0033);
            background-size: 300% 300%;
            opacity: 0;
            transition: opacity .2s ease-in-out;
            z-index: 0;
        }

        .link-btn:hover::before {
            opacity: 1;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0%   { background-position: 0% 50%; }
            50%  { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .link-btn span {
            position: relative;
            z-index: 1;
            display: block;
            padding: 10px 18px;
            min-width: 110px;
            border-radius: 6px;
            background: #1a1a1a;
            border: 1px solid #333;
            color: #fff;
            font-size: 1rem;
            font-weight: bold;
            text-align: center;
        }

        .link-btn span:hover {
            border-color: #ff0066;
        }

        @media (max-width: 480px) {
            h1 { font-size: 2.3rem; }
            .subtitle { font-size: 1.1rem; }
        }

        /* Products */
        .products {
            margin-top: 50px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;

        }

        .card {
            display: block;
            position: relative;
            background: #141414;
            border: 1px solid #222;
            border-radius: 12px;
            padding: 22px 28px;
/*             text-align: left; */
            transition: border-color 0.25s, transform 0.25s;

            width: clamp(260px, 70%, 420px);
/*             width: clamp(300px, 55vw, 600px); */
/*             width: min(560px, 80vw); */
/*             width: clamp(280px, 60vw, 380px); */
/*             min-height: 200px; */
            cursor: pointer;
        }

        .card:hover {
            border-color: #ff0066;
            transform: translateY(-4px);
        }
        .card::before {
            content: "";
            position: absolute;

            inset: -1px;
            z-index: -1;
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.25s ease-in-out;

            /* Градиент */
            background: linear-gradient(120deg, #ff0033, #00cc66, #ff0033);
            background-size: 300% 300%;

            padding: 2px;
            -webkit-mask:
                linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
                    mask-composite: exclude;

            pointer-events: none;
        }
        .card:hover::before {
            opacity: 1;
            animation: spin 2s linear infinite;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 8px;
            color: #fff;
        }

        .card-desc {
            font-size: 1.05rem;
            opacity: 0.75;
            line-height: 1.45;
        }

        /* product buttons */
        .product-nav-btn {
            background: transparent;
            border: none;
            color: #777;
            font-size: 1.6rem;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 8px;
            transition: color .2s ease-in-out, background .2s ease-in-out;
        }
        .product-nav-btn:hover {
            color: #fff;
            background: #1a1a1a;
        }
        .product-nav-btn:disabled {
            opacity: 0.25;
            cursor: default;
            background: transparent;
        }
        .products-indicator {
            margin-top: 10px;
            font-size: 0.9rem;
            opacity: 0.7;
        }


        .socials {
            margin-top: 5px;
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .socials a {
            font-size: 1.6rem;
            color: #888;
            transition: color .2s ease;
        }

        .socials a:hover {
            color: #fff;
        }


    </style>
</head>

<body>

    <header>
        <h1 id="title">Scalar</h1>
        <div class="subtitle">High-Performance Computing</div>
    </header>

    <main>

       <!-- <section class="products">
            <button class="product-nav-btn" id="prev-btn" aria-label="Previous product">&lt;</button>
            <div class="card" id="product-card">
                <div class="card-title" id="product-title">Product...</div>
                <div class="card-desc" id="product-desc">Description...</div>
            </div>
            <button class="product-nav-btn" id="next-btn" aria-label="Next product">&gt;</button>
        </section>
        <div class="products-indicator" id="product-indicator">/</div>-->

        <!--<section class="products">
            <div class="card" href="https://ocr.scalar.kz">
                <div class="card-title">OCR Engine</div>
                <div class="card-desc"></div>
            </div>

            <div class="card" href="https://github.com/alarxx/Tensor-library">
                <div class="card-title">Tensor-Library</div>
                <div class="card-desc"></div>
            </div>
        </section>-->

        <section class="products" id="products"></section>
    </main>

    <footer>
        <div class="bottom">
            <div class="author" id="author">Alar Akilbekov</div>

            <!--<div class="links">
                <a class="link-btn" href="mailto:alar.akilbekov@gmail.com"><span>Gmail</span></a>
                <a class="link-btn" href="https://github.com/alarxx/"><span>GitHub</span></a>
                <a class="link-btn" href="https://www.linkedin.com/in/alar-akilbekov/"><span>LinkedIn</span></a>
                <a class="link-btn" href="https://t.me/alarxx/"><span>Telegram</span></a>
            </div>-->

            <div class="socials">
                <a href="mailto:alar.akilbekov@gmail.com"> <i class="bi bi-envelope-fill"></i></a>
                <a href="https://github.com/alarxx/"> <i class="bi bi-github"></i></a>
                <a href="https://www.linkedin.com/in/alar-akilbekov/"> <i class="bi bi-linkedin"> </i></a>
                <a href="https://t.me/alarxx/"> <i class="bi bi-telegram"></i> </a>
            </div>
        </div>


    </footer>

    <!--carousel cards-->
    <!--<script>
        const products = [
            { title: "OCR\u00A0Engine", desc: "", link: "https://ocr.scalar.kz"},
            { title: "Tensor-Library", desc: "", link: "https://github.com/alarxx/Tensor-library"},
        ];

        let currentIndex = 0;

        const cardEl = document.getElementById("product-card");
        const titleEl = document.getElementById("product-title");
        const descEl = document.getElementById("product-desc");
        const indicatorEl = document.getElementById("product-indicator");
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");

        function renderProduct() {
            const p = products[currentIndex];
            titleEl.innerHTML = p.title;
            descEl.textContent = p.desc;
            indicatorEl.textContent = (currentIndex + 1) + " / " + products.length;

            prevBtn.disabled = currentIndex === 0;
            nextBtn.disabled = currentIndex === products.length - 1;

            cardEl.onclick = () => {
                window.location.href = p.link;
            };
        }

        prevBtn.addEventListener("click", () => {
            if (currentIndex > 0) {
                currentIndex--;
                renderProduct();
            }
        });

        nextBtn.addEventListener("click", () => {
            if (currentIndex < products.length - 1) {
                currentIndex++;
                renderProduct();
            }
        });

        renderProduct();
    </script>-->

    <script>
        const products = [
            { title: "Tensor-library", desc: "", link: "https://github.com/alarxx/Tensor-library" },
            { title: "OCR\u00A0Engine (...)", desc: "", link: "https://ocr.scalar.kz" },
        ];

        const container = document.getElementById("products");

        products.forEach(p => {
            const card = document.createElement("div");
            card.className = "card";

            const title = document.createElement("div");
            title.className = "card-title";
            title.textContent = p.title;

            const desc = document.createElement("div");
            desc.className = "card-desc";
            desc.textContent = p.desc;

            card.appendChild(title);
            card.appendChild(desc);

            card.onclick = () => {
                window.location.href = p.link;
            };

            container.appendChild(card);
        });


        // --- Explosions ---

        const rand = (min, max) => Math.floor(Math.random() * (max - min) + min);

        function randomColor(){
            let a = rand(0, 3);
            if(a == 0)
                a = "#00cc66";
            else if(a == 1)
                a = "#B5B5B5";
            else
                a = "#ff0033";
            return a;
        }

        class Vector {
            #x;
            #y;
            constructor(x, y){
                this.#x = x;
                this.#y = y;
            }
            x(){ return this.#x; }
            y(){ return this.#y; }

            setX(x){ this.#x = x; }
            setY(y){ this.#y = y; }

            addX(x){ this.#x += x; }
            addY(y){ this.#y += y; }
        }


        class Spark {
            #width;
            #height;
            #acc;
            #position;
            #velocity;
            #ob;
            #inMotion;
            #timer;

            constructor(x, y){
                this.#width = rand(3, 5);
                this.#height = this.#width;

                this.#acc = new Vector(0, 1000);
                this.#position = new Vector(x, y);
                this.#velocity = new Vector(rand(-500, 500), rand(-500, -300));

                this.#ob = this.#createObj();

                this.#inMotion = true;

                this.#timer = this.#setTimer();
            }

            #createObj(){
                let ob = document.createElement("div");
                document.body.appendChild(ob);
                ob.style.backgroundColor = randomColor();

                ob.style.position = "absolute";

                ob.style.left = `${this.#position.x()}px`
                ob.style.top = `${this.#position.y()}px`

                ob.style.width = `${this.#width}px`;
                ob.style.height = `${this.#height}px`;

                return ob;
            }

            #setTimer(){
                const ob = this;
                //fps
                // milliseconds: 10^-3 = 1/1000
                const dt = 15; // 1000/15=67fps
                const start = Date.now(); // запомнить время начала
                let last = Date.now();
                const timer = setInterval(function() {
                    // сколько времени прошло с начала анимации?
                    // Закончить анимацию через 0.5, 3 секунды
                    if (Date.now() - start >= 10000) {
                        ob.delete();
                        return;
                    }
                    ob.update((Date.now() - last) / 1000); // magical numbers
                    last = Date.now();
                }, dt);
                return timer;
            }

            update(dt){
                if(this.#inMotion){
                    this.updateVel(dt);
                    this.updatePos(dt);
                }
            }

            // updatePos(dt){
            //     this.#position.addX(dt * this.#velocity.x());
            //     this.#position.addY(dt * this.#velocity.y());
            //
            //     this.#ob.style.left = `${this.#position.x()}px`;
            //     this.#ob.style.top = `${this.#position.y()}px`;
            // }
            updatePos(dt){
                // Move
                this.#position.addX(dt * this.#velocity.x());
                this.#position.addY(dt * this.#velocity.y());

                const x = this.#position.x();
                const y = this.#position.y();

                const w = this.#width;
                const h = this.#height;

                const maxX = window.innerWidth - w - 1;
                const maxY = window.innerHeight - h - 1;

                if (x <= 0 || x >= maxX) {
                    this.#velocity.setX(0);
                    this.#position.setX(Math.max(0, Math.min(x, maxX)));
                }
                if (y <= 0 || y >= maxY) {
                    this.#velocity.setY(0);
                    this.#position.setY(Math.max(0, Math.min(y, maxY)));

                }
                if (y >= maxY){
                    // console.log("ground touched" + Date.now());
                    this.#velocity.addX(-10 * dt * this.#velocity.x());
                    if(this.#velocity.x() >= -1 && this.#velocity.x() <= 1){
                        // console.log("stopped" + Date.now());
                        this.#velocity.setX(0);
                        this.#inMotion = false;
                    }
                }

                this.#ob.style.left = `${this.#position.x()}px`;
                this.#ob.style.top = `${this.#position.y()}px`;
            }


            updateVel(dt){
                this.#velocity.addX(dt * this.#acc.x());
                this.#velocity.addY(dt * this.#acc.y());
            }

            delete(){
                clearInterval(this.#timer);
                this.#ob.remove();
            }

            window_resized(){
                this.#inMotion = true;
            }
        }


        class Explosion{
            #sparks;

            constructor(x, y){
                let n = rand(20, 30);
                this.#sparks = [];
                for(let i=0; i<n; i++){
                    this.#sparks[i] = new Spark(x, y);
                }
            }

            update(dt){
                for(let i=0; i<this.#sparks.length; i++){
                    this.#sparks[i].update(dt);
                }
            }

            delete(){
                for(let i=0; i<this.#sparks.length; i++){
                    this.#sparks[i].delete();
                }
            }

            window_resized(){
                for(let i=0; i<this.#sparks.length; i++){
                    this.#sparks[i].window_resized();
                }
            }
        }

        class ExplosionsPool {
            #pool;
            #length;

            constructor(){
                this.#length = 20;
                this.#pool = [];
            }

            // add Explosion
            explode(x, y){
                const obj = new Explosion(x, y);

                if(this.#pool.length === this.#length){
                    const removed_item = this.#pool.shift();
                    removed_item.delete();
                }

                this.#pool.push(obj);
            }

            window_resized(){
                for(let i = 0; i < this.#pool.length; i++){
                    this.#pool[i].window_resized();
                }
            }
        }



        function soundPlay(dir) {
            try{
                let audio = new Audio();
                audio.src = dir;
                audio.play();
            } catch(e){

            }
        }

        function setClickListener(soundDir){
            const pool = new ExplosionsPool();
            window.addEventListener("mousedown", (e)=>{
                let x = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
                let y = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
                pool.explode(x, y);
                // soundPlay(soundDir);
            });
            window.addEventListener('resize', () => {
                pool.window_resized();
            });
        }
        setClickListener();

        // This is hilarious
        // const author = document.getElementById("author");
        // function authorRect() {
        //     return author.getBoundingClientRect();
        // }
        // author.addEventListener("mouseenter", () => {
        //     const rect = author.getBoundingClientRect();
        //     const x = rect.left + rect.width / 2;
        //     const y = rect.top + rect.height / 2;
        //     explode(x, y);
        // });

    </script>


</body>
</html>
